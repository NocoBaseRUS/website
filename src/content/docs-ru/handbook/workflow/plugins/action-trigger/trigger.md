# Настройка триггера

## Создание рабочего процесса

При создании рабочего процесса выберите тип «Событие после выполнения операции»:

![Создание рабочего процесса_Триггер события после выполнения операции](https://static-docs.nocobase.com/13c87035ec1bb7332514676d3e896007.png)

## Режим выполнения

Для событий после выполнения операции при создании можно выбрать режим выполнения: «Синхронный» или «Асинхронный»:

![Создание рабочего процесса_Выбор синхронного или асинхронного режима](https://static-docs.nocobase.com/bc83525c7e539d578f9e2e20baf9ab69.png)

Если требуется выполнить процесс немедленно после действия пользователя и вернуть результат, используйте синхронный режим. В противном случае режим по умолчанию — асинхронный. В асинхронном режиме рабочий процесс будет запущен, и операция будет завершена, а рабочий процесс будет выполнен в фоновом режиме в очереди.

## Настройка таблицы данных

Перейдите в холст рабочего процесса, щелкните триггер и откройте окно настройки. Сначала нужно выбрать таблицу данных, к которой нужно привязать:

![Настройка рабочего процесса_Выбор таблицы данных](https://static-docs.nocobase.com/35c49a91eba731127edcf76719c97634.png)

## Выбор режима триггера

Затем выберите режим триггера, который может быть локальным или глобальным:

![Настройка рабочего процесса_Выбор режима триггера](https://static-docs.nocobase.com/317809c48b2f2a2d38aedc7d08abdadc.png)

Где:

* Локальный режим запускает триггер только для кнопок, связанных с данным рабочим процессом. Нажатие кнопок, не связанных с этим рабочим процессом, не запустит триггер. Это позволяет выбирать, какие формы и кнопки будут запускать один и тот же процесс.
* Глобальный режим запускает триггер для всех кнопок действий, настроенных для таблицы данных, вне зависимости от формы, на которой они находятся. Не требуется связывать соответствующий рабочий процесс.

В локальном режиме поддерживаются следующие кнопки действий:

* Кнопки «Отправить» и «Сохранить» в форме добавления.
* Кнопки «Отправить» и «Сохранить» в форме обновления.
* Кнопки «Обновить данные» в строках данных (таблицы, списки, доски и т.д.).

## Выбор типа операции

Если выбран глобальный режим, также нужно выбрать тип операции, поддерживаются «Создание данных» и «Обновление данных». Оба типа операций запускают рабочий процесс после успешного выполнения операции.

## Выбор предварительной загрузки связанных данных

Если необходимо использовать связанные данные в последующем процессе, можно выбрать поля, которые нужно предварительно загрузить:

![Настройка рабочего процесса_Предварительная загрузка связанных данных](https://static-docs.nocobase.com/5cded063509c7ba1d34f49bec8d68227.png)

После триггера связанные данные будут доступны для использования в процессе.