# Пример

В данном примере демонстрация будет проводиться с использованием операции добавления.

Предположим, что у нас есть сценарий «Заявка на возмещение расходов». Мы хотим, чтобы после того, как сотрудник подаст заявку на возмещение расходов, была автоматически проведена проверка лимита и для превышающих лимит — ручная проверка. Только после успешной проверки заявка будет одобрена, и затем передана на обработку финансовой службе.

Сначала создадим таблицу данных «Заявка на возмещение расходов» с следующими полями:

- Название проекта: однострочный текст
- Заявитель: много ко одному (пользователь)
- Сумма: число
- Статус: однострочный текст («Одобрено», «Обработано»)

Затем создадим рабочий процесс типа «После выполнения операции» и настроим триггер, чтобы он ссылался на таблицу данных «Заявка на возмещение расходов»:

![Пример_Настройка триггера_Выбор таблицы данных](https://static-docs.nocobase.com/6e1abb5c3e1198038676115943714f07.png)

После включения рабочего процесса, настройка узлов логики будет проведена позже.

Далее создадим блок таблицы для таблицы данных «Заявка на возмещение расходов» и добавим кнопку «Добавить» в панели инструментов, настроив соответствующие поля формы. В настройках кнопки «Отправить» формы откроем диалог привязки рабочего процесса, выберем весь контекст формы и рабочий процесс, который мы создали ранее:

![Пример_Настройка кнопки формы_Привязка рабочего процесса](https://static-docs.nocobase.com/fc00bdcdb975bb8850e5cab235f854f3.png)

После настройки формы вернемся к настройке логики рабочего процесса. Например, если сумма больше 500 юаней, потребуется ручная проверка администратором, в противном случае заявка автоматически одобряется. После успешной проверки создается запись о возмещении, и затем передается на обработку финансовой службе (подробности опущены).

![Пример_Логика обработки](https://static-docs.nocobase.com/059e8e3d5ffb34cc2da6880fa3dc490b.png)

Игнорируя дальнейшую обработку финансовой службой, таким образом, мы завершили настройку процесса возмещения расходов. Когда сотрудник заполняет заявку на возмещение и отправляет ее, будет запущен соответствующий рабочий процесс. Если сумма меньше 500 юаней, будет автоматически создана запись и ожидать дальнейшей обработки финансовой службой, если сумма больше 500 юаней, заявка будет проверена руководителем, и при успешной проверке также будет создана запись и передана на обработку финансовой службой.

Этот пример также можно настроить для обычной кнопки «Отправить», в зависимости от конкретного сценария бизнес-процесса, можно выбрать, нужно ли сначала создать запись, а затем выполнять последующие действия.
