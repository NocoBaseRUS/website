# Обзор

<PluginInfo name="workflow-action-trigger" link="/handbook/workflow/plugins/action-trigger"></PluginInfo>

Все изменения данных, создаваемые пользователями в системе, обычно осуществляются через определенные действия, такие как нажатие кнопки. Кнопка может быть кнопкой отправки формы или кнопкой действия в блоке данных. События после выполнения операции используются для привязки к этим кнопкам соответствующих рабочих процессов, чтобы при успешном завершении действия запускать определенные процессы.

Например, при добавлении или обновлении данных пользователь может настроить кнопку «Привязка рабочего процесса» в настройках кнопки. После успешного выполнения операции будет запущен привязанный рабочий процесс.

На уровне реализации, поскольку обработка событий после выполнения операции происходит в middleware-слое (middleware Koa), вызовы HTTP API в NocoBase также могут запускать определенные события после выполнения операции.

:::info{title="Подсказка"}
События после выполнения операции ранее назывались «События формы», в ранних версиях функция поддерживалась только для кнопок форм. В версии `v0.20` поддержка была расширена на кнопки действий в других блоках данных, поэтому название было изменено на «События после выполнения операции».
:::

## Часто задаваемые вопросы

### Различие между событиями до выполнения операции и после выполнения операции

Разница между событиями до выполнения операции и после выполнения операции заключается в том, что одно событие запускается до обработки запроса, а другое — после обработки запроса. Это можно увидеть на следующей схеме:

![Порядок выполнения операции](https://static-docs.nocobase.com/7c901be2282067d785205b70391332b7.png)

Событие до выполнения операции запускается до обработки запроса и может использоваться для проверки или обработки данных запроса. Если запрос будет отклонен, действие не будет выполнено.

Событие после выполнения операции запускается после успешного завершения действия, когда данные уже были успешно отправлены. Можно использовать это событие для дальнейшей обработки процессов на основе успешного результата.

### Различие между событиями таблицы данных и событиями после выполнения операции

События после выполнения операции и события таблицы данных имеют схожие эффекты: оба запускают процессы после изменения данных. Однако они реализованы на разных уровнях. События после выполнения операции направлены на уровень API, тогда как события таблицы данных ориентированы на изменения данных в таблице.

События таблицы данных ближе к уровню системы и могут вызывать цепную реакцию, когда одно событие приводит к изменению данных, которое, в свою очередь, может запустить другое событие, особенно если изменения в одной таблице затрагивают связанную таблицу.

События таблицы данных не содержат информации о пользователе. В то время как события после выполнения операции ближе к пользовательскому интерфейсу и являются результатом действий пользователя, их контекст включает информацию о пользователе, что делает их更适合处理由用户操作引起的数据变化流程。在 NocoBase 的未来设计中，可能会扩展更多可用于触发的操作后事件，因此**更推荐使用操作后事件**来处理用户操作导致数据变动的流程。

另一点区别是，操作后事件可以局部绑定在特定的表单上，如果有多个表单，可以一部分表单的提交触发该事件，而另一部分不触发，而数据表事件是针对整个数据表的数据变动，无法局部绑定。

## Установка

Встроенный плагин, установка не требуется.

## Руководство по использованию

Использование событий после выполнения операции включает несколько частей:

- [Настройка триггера](./trigger.md)
- [Настройка операций](./action.md)

Также можно ознакомиться с [примерами](./example.md) для понимания применения в реальных сценариях.

Если требуется вызов из внешней системы, можно ознакомиться с [внешними вызовами](./http-api.md).