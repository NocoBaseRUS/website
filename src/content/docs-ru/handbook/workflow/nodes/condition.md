# Условное выполнение

Аналогично оператору `if` в языках программирования, условное выполнение определяет направление дальнейшего выполнения процесса в зависимости от результата проверки условия.

## Создание узла

Условное выполнение имеет два режима: «Если да, то продолжить» и «Если да и если нет, то продолжить». При создании узла необходимо выбрать один из этих режимов, и после этого режим нельзя изменять в настройках узла.

![Выбор режима условного выполнения](https://static-docs.nocobase.com/3de27308c1179523d8606c66bf3a5fb4.png)

### Режим «Если да, то продолжить»

В этом режиме, если результат проверки условия равен «да», процесс продолжает выполнение следующих узлов. В противном случае процесс завершается с ошибкой и прекращает выполнение.

![Режим «Если да, то продолжить»](https://static-docs.nocobase.com/0f6ae1afe61d501f8eb1f6dedb3d4ad7.png)

Этот режим подходит для ситуаций, когда процесс не должен продолжаться, если условие не выполнено, например, при отправке заказа после заполнения формы, если количество товара на складе недостаточно, процесс завершается ошибкой и не продолжается.

### Режим «Если да и если нет, то продолжить»

В этом режиме условный узел создает две ветви процесса: одна для случая, когда результат проверки условия равен «да», и другая для случая, когда результат равен «нет». Каждая ветвь может быть настроена для выполнения своих последующих узлов. После завершения выполнения любой из ветвей, процесс автоматически сливается обратно к родительской ветви, и продолжает выполнение следующих узлов.

![Режим «Если да и если нет, то продолжить»](https://static-docs.nocobase.com/974a1fcd8603629b64ffce6c55d59282.png)

Этот режим подходит для ситуаций, когда при выполнении и невыполнении условия требуется выполнить разные действия, например, проверка наличия определенной записи: если запись отсутствует, она добавляется, если присутствует, она обновляется.

## Настройка узла

### Вычислительный движок

В настоящее время поддерживаются три движка:

- **Базовый**: получение логического результата через простые двуместные вычисления и группирование с помощью «И» и «ИЛИ».
- **Math.js**: вычисление выражений, поддерживаемых [Math.js](https://mathjs.org/), для получения логического результата.
- **Formula.js**: вычисление выражений, поддерживаемых [Formula.js](https://formulajs.info/), для получения логического результата.

Во всех трех вычислениях можно использовать переменные контекста потока в качестве операндов для вычислений.

## Примеры

### Режим «Если да, то продолжить»

<!-- TODO -->

### Режим «Если да и если нет, то продолжить»

<!-- TODO -->