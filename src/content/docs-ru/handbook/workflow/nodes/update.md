# Обновление данных

Используется для обновления строк в таблице данных, соответствующих заданным условиям.

Часть настройки таблицы данных и присвоения значений полям аналогична узлу добавления данных. Основное отличие узла обновления заключается в добавлении условий фильтрации и выбора режима обновления. Также результат узла обновления возвращает количество успешно обновленных строк и отображается только в истории выполнения, не может быть использован как переменная в последующих узлах.

## Создание узла

В интерфейсе конфигурации рабочего процесса нажмите кнопку «+» в потоке, чтобы добавить узел «Обновление данных»:

![Добавление узла обновления данных](https://static-docs.nocobase.com/9ff24d7bc173b3a71decc1f70ca9fb66.png)

## Настройка узла

![Настройка узла обновления данных](https://static-docs.nocobase.com/98e0f941c57275fc835f08260d0b2e86.png)

### Таблица данных

Выберите таблицу данных, которую нужно обновить.

### Режим обновления

Режим обновления может быть «Массовым» или «По одной». В режиме «Массовый» не будут вызваны события таблицы данных для каждой отдельной обновляемой строки, что повышает производительность. В режиме «По одной» будет вызвано событие для каждой строки, но это может привести к снижению производительности при обработке больших объемов данных и требует осторожного использования. Обычно выбор режима зависит от целей обновления и необходимости вызова других событий рабочих процессов. Если обновляется одна строка по ключу, рекомендуется использовать режим «По одной». Если обновляются несколько строк по условиям, рекомендуется использовать режим «Массовый».

### Условия фильтрации

Похожи на условия фильтрации при обычном запросе к таблице данных, можно использовать переменные контекста потока.

### Значения полей

Аналогично присвоению значений полям в узле добавления данных, можно использовать переменные контекста потока или вручную указывать статические значения.

**Примечание:** В рабочих процессах обновленные данные узлом обновления автоматически не обрабатываются для поля «Последнее изменение». Этот поле необходимо самостоятельно конфигурировать в зависимости от ситуации.

## Примеры

Например, при добавлении новой «Статьи» необходимо автоматически обновить поле «Количество статей» в таблице «Категории статей». Это можно реализовать с помощью узла обновления:

![Пример настройки узла обновления данных](https://static-docs.nocobase.com/98e0f941c57275fc835f08260d0b2e86.png)

После запуска рабочего процесса поле «Количество статей» в таблице «Категории статей» будет автоматически обновлено на текущее количество статей +1.