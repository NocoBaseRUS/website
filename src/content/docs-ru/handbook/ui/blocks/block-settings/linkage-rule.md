# Правила взаимодействия

## Введение

Правила взаимодействия блоков позволяют динамически настраивать форму в зависимости от действий пользователя. Правила взаимодействия для блока формы поддерживают динамическое управление состоянием полей или присвоение значений полям, а для блока деталей — динамическое управление отображением/скрытием полей.

![20240408100711](https://static-docs.nocobase.com/20240408100711.png)

![20240408100757](https://static-docs.nocobase.com/20240408100757.png)

## Руководство по использованию

1. **Настройка полей формы**: Все поля формы, используемые в правилах, должны быть настроены для обеспечения корректности и точности правил.

2. **Условия срабатывания**: Когда условия в правилах выполняются (необязательные), автоматически применяются изменения свойств, указанные ниже.

3. **Поддержка нескольких правил**: Для одной формы можно настроить несколько правил взаимодействия. Если одновременно выполняются условия нескольких правил, система будет применять результаты последовательно, согласно порядку правил.

4. **Управление правилами**: Поддерживаются пользовательские названия, сортировка, удаление, включение, отключение и копирование правил.

5. **Поддержка констант/переменных**: В присвоении значений полям и настройке условий можно использовать константы или переменные. Подробнее о переменных см. в разделе [Переменные](/handbook/ui/variables).

### Присвоение значений

Пример: автоматическая оценка и установка уровня клиента на основе предполагаемого годового объема закупок (например, уровень A+, A, A-).

- Годовой объем закупок больше 20 000 — уровень клиента A+.

![20240408102241](https://static-docs.nocobase.com/20240408102241.png)

- Годовой объем закупок больше 10 000 и меньше или равен 20 000 — уровень клиента A.

![20240408102303](https://static-docs.nocobase.com/20240408102303.png)

- Годовой объем закупок меньше 10 000 — уровень клиента A-.

![20240408102324](https://static-docs.nocobase.com/20240408102324.png)

### Обязательное поле

Пример: управление обязательностью поля "Цена по акции" в зависимости от того, проводится ли акция.

- Если акция активна (true), поле "Цена по акции" обязательно для заполнения.

![20240408105031](https://static-docs.nocobase.com/20240408105031.png)

- Если акция неактивна (false), поле "Цена по акции" не является обязательным.

![20240408105115](https://static-docs.nocobase.com/20240408105115.png)

### Отображение/скрытие

Пример: управление видимостью поля ввода "Цена по акции" в зависимости от того, проводится ли акция.

- Если акция активна (true), поле "Цена по акции" отображается и является обязательным.

![20240408115240](https://static-docs.nocobase.com/20240408115240.png)

- Если акция неактивна (false), поле "Цена по акции" скрывается и не является обязательным.

![20240408115338](https://static-docs.nocobase.com/20240408115338.png)