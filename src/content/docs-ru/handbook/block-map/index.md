# Блок карты

<PluginInfo name="block-map"></PluginInfo>

## Введение

Блок карты используется для отображения и управления полями карты. Он включает четыре типа полей карты: точки, линии, круги и многоугольники.

## Установка

Предустановленный плагин, требуется активация перед использованием.

![20240421120958](https://static-docs.nocobase.com/20240421120958.png)

После включения плагина необходимо настроить данные аутентификации карты.

![20240421121032](https://static-docs.nocobase.com/20240421121032.png)

В таблице данных можно добавить поле карты.

![20240426171356](https://nocobase-docs.oss-cn-beijing.aliyuncs.com/20240426171356.png)

## Добавление блока

Блок карты можно добавить только в таблицы данных, содержащие поля карты.

![20240408194209](https://static-docs.nocobase.com/20240408194209.png)

![20240408194420](https://static-docs.nocobase.com/20240408194420.png)

1. Поле карты: тип элемента карты (точка, линия, многоугольник).
2. Поле метки: аннотации на карте (поддерживается только для точек).

### Точка

Пример использования: распределение розничных магазинов.

![20240408195630](https://static-docs.nocobase.com/20240408195630.png)

### Линия

Линия состоит из набора точек на карте, как показано ниже для отображения траектории грузовых накладных.

![20240408201608](https://static-docs.nocobase.com/20240408201608.png)

### Круг

![20240408201939](https://static-docs.nocobase.com/20240408201939.png)

### Многоугольник

Пример использования: планирование зон.

![Многоугольник](https://static-docs.nocobase.com/20240408200546.png)

## Параметры конфигурации блока

![20240421121949](https://static-docs.nocobase.com/20240421121949.png)

### Поле порядка соединения

Точки соединяются последовательно в соответствии с полем порядка.

![20240408202645](https://static-docs.nocobase.com/20240408202645.png)

![20240421121917](https://static-docs.nocobase.com/20240421121917.png)

![20240422101027](https://static-docs.nocobase.com/20240422101027.png)

### Уровень масштабирования карты по умолчанию

Значение по умолчанию — 13.

![20240408202854](https://static-docs.nocobase.com/20240408202854.png)

### Настройка диапазона данных

Пример: фильтрация накладных со статусом заказа «Отправлено» (фильтрация через связанные поля). Только записи накладных, соответствующие диапазону данных, будут отмечены точками.

![20240422101250](https://static-docs.nocobase.com/20240422101250.png)

Дополнительная информация доступна в разделе [Настройка диапазона данных](/handbook/ui/blocks/block-settings/data-scope).

- [Редактирование заголовка блока](/handbook/ui/blocks/block-settings/block-title)
- [Подключение блока данных](/handbook/ui/blocks/block-settings/connect-block)
- [Сохранение как шаблон блока](/handbook/ui/blocks/block-settings/block-template)

## Настройка действий

![20240421122020](https://static-docs.nocobase.com/20240421122020.png)

### Пакетный выбор точек

![20240422102334](https://static-docs.nocobase.com/20240422102334.gif)

- [Фильтр](/handbook/ui/actions/types/filter)
- [Добавить](/handbook/ui/actions/types/add-new)
- [Обновить](/handbook/ui/actions/types/refresh)
- [Массовое обновление](/handbook/action-bulk-update)
- [Массовое редактирование](/handbook/action-bulk-edit)