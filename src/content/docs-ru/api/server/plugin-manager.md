# PluginManager

`PluginManager` — это менеджер плагинов NocoBase.

## Свойства экземпляра

### `repository`

Экземпляр `Repository` таблицы данных плагинов. API см. [DataBase - Repository](../database/repository.md).

## Методы экземпляра

### `addPreset()`

Добавляет встроенные системные плагины, которые по умолчанию включены и не отображаются в списке менеджера плагинов на стороне клиента.

#### Сигнатура

- `addPreset(plugin: string | typeof Plugin, options: any = {})`

#### Подробная информация

| Имя параметра | Тип                        | Описание                |
| -------------- | --------------------------- | ------------------------- |
| `plugin`       | `string` \| `typeof Plugin` | Имя плагина или экземпляр плагина |
| `options`      | `any`                       | Параметры конфигурации плагина |

### `getPlugins()`

Получает все экземпляры плагинов текущего приложения.

#### Сигнатура

- `getPlugins(): Map<typeof Plugin, Plugin<any>>`

### `getAliases()`

Получает имена всех плагинов.

#### Сигнатура

- `getAliases(): IterableIterator<string>`

### `get()`

Получает определенный плагин.

#### Сигнатура

- `get(name: string | typeof Plugin): Plugin<any>`

### `has()`

Проверяет, существует ли определенный плагин.

#### Сигнатура

- `has(name: string | typeof Plugin): boolean`

### `create()`

Создает плагин, генерирует директорию плагина.

#### Сигнатура

- `create(pluginName: string, options?: { forceRecreate?: boolean }): Promise<void>`

#### Подробная информация

| Имя параметра        | Тип      | Описание                                   | Значение по умолчанию |
| -------------------- | --------- | ------------------------------------------ | ---------------------- |
| `pluginName`         | `string`  | Имя плагина                                | -                      |
| `options.forceRecreate` | `boolean` | Удалять ли существующую директорию плагина и создавать заново | `false`                |

### `add()`

Добавляет или обновляет плагин.

#### Сигнатура

- `add(plugin?: any, options: any = {}, insert = false, isUpgrade = false): Promise<void>`

#### Подробная информация

| Имя параметра | Тип                        | Описание                  | Значение по умолчанию |
| ------------- | --------------------------- | ------------------------- | ----------------------- |
| `plugin`      | `string` \| `typeof Plugin` | Имя плагина или экземпляр плагина | -                       |
| `options`     | `any`                       | Конфигурация плагина      | -                       |
| `insert`      | `boolean`                   | Добавлять ли запись в таблицу плагинов | `false`                 |
| `isUpgrade`   | `boolean`                   | Является ли обновлением плагина | `false`                 |

### `load()`

Загружает все включенные плагины.

#### Сигнатура

- `load(): Promise<void>`

### `install()`

Устанавливает все включенные и еще не установленные плагины.

#### Сигнатура

- `install(): Promise<void>`

### `enable()`

Включает один или несколько отключенных плагинов.

#### Сигнатура

- `enable(name: string | string[]): Promise<void>`

### `disable()`

Отключает один или несколько включенных плагинов.

#### Сигнатура

- `disable(name: string | string[]): Promise<void>`

### `remove()`

Удаляет один или несколько плагинов.

#### Сигнатура

- `remove(name: string | string[], options?: { removeDir?: boolean; force?: boolean })`

#### Подробная информация

| Имя параметра    | Тип                   | Описание                                                                 | Значение по умолчанию |
| ---------------- | ---------------------- | ------------------------------------------------------------------------ | ---------------------- |
| `name`           | `string` \| `string[]` | Имя плагина                                                              | -                      |
| `options.removeDir` | `boolean`            | Удалять ли директорию плагина                                            | `false`                |
| `options.force`  | `boolean`              | Принудительно удалять запись из базы данных, пропуская `beforeRemove` / `afterRemove` | `false`                |